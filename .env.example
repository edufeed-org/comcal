# Communikey-Svelte Environment Configuration

# ============================================
# Required Configuration
# ============================================

# The public URL where the application will be accessible
# This is required by SvelteKit for security (CSRF protection)
# Example: https://comcal.net or https://your-domain.com
ORIGIN=https://your-domain.com

# Port the application will listen on inside the container
# Default: 3000 (should match docker-compose.yml and Dockerfile)
PORT=3000

# Node environment
# Options: production, development
NODE_ENV=production

# ============================================
# App Branding
# ============================================

APP_NAME=ComCal

# ============================================
# Theme Configuration
# ============================================

# Default theme when system prefers light mode
# Options: light, dark, stil, stil-dark
THEME_DEFAULT_LIGHT=stil

# ============================================
# Favicon Configuration (Whitelabel)
# ============================================
# Optional - defaults to files in /static if not set
# Supports both local paths and external URLs (CDN)

# FAVICON_ICO=/favicon.ico
# FAVICON_SVG=/favicon.svg
# FAVICON_32=/favicon-32x32.png
# FAVICON_16=/favicon-16x16.png

# Default theme when system prefers dark mode
# Options: light, dark, stil, stil-dark
THEME_DEFAULT_DARK=stil-dark
APP_LOGO=https://blossom.edufeed.org/f22e1410f09a9130757704b6dcd4c34774d2926b9cfd6cf2e4c4675c64d4333b.webp
APP_GIT_REPO=https://github.com/edufeed-org/comcal

# ============================================
# Nostr Relays
# ============================================

# Fallback relays for users without kind 10002 relay list (comma-separated)
FALLBACK_RELAYS=wss://relay.damus.io,wss://nos.lol,wss://nostr.wine

# ============================================
# App-Specific Relays
# ============================================
# These relays store specific content types IN ADDITION to user's outbox.
# Users can override via kind 30002 relay sets with d-tag: {APP_NAME}/{category}

# Calendar event relays (kinds 31922-31925)
CALENDAR_RELAYS=wss://relay-rpi.edufeed.org

# Communikey relays for community events (kinds 10222, 30222, 30382)
COMMUNIKEY_RELAYS=wss://relay-rpi.edufeed.org

# AMB relays for educational content with NIP-50 search (kind 30142)
AMB_RELAYS=ws://localhost:3334

# Long-form content relays (kind 30023 articles)
LONGFORM_CONTENT_RELAY=

# ============================================
# Gated Mode Configuration
# ============================================
# When gated mode is enabled, the app fetches content ONLY from app-specific
# relays (calendar, communikey, educational, longform) - fallback relays are excluded.
# This allows app operators to control what content users see.

# Default gated mode state (true/false)
GATED_MODE_DEFAULT=false

# Force gated mode - when true, users cannot disable it
GATED_MODE_FORCE=false

# ============================================
# NIP-65 Relay List Discovery
# ============================================

# Well-known relays for discovering user relay lists (kind 10002)
# These relays specialize in storing NIP-65 relay list metadata
RELAY_LIST_LOOKUP_RELAYS=wss://purplepag.es,wss://relay.damus.io,wss://nos.lol

# ============================================
# Default Blossom Servers
# ============================================

# Default Blossom media servers for new users
DEFAULT_BLOSSOM_SERVERS=https://blossom.primal.net,https://cdn.satellite.earth

# ============================================
# Calendar Configuration
# ============================================

# Week start day: 0 = Sunday, 1 = Monday, etc.
CALENDAR_WEEK_START_DAY=1

# Locale for date/time formatting (e.g., de-DE, en-US)
CALENDAR_LOCALE=de-DE

# Time format: 12h or 24h
CALENDAR_TIME_FORMAT=24h

# ============================================
# Signup Configuration
# ============================================

# Suggested users to follow during signup (comma-separated npubs)
SIGNUP_SUGGESTED_USERS=npub1f7jar3qnu269uyx5p0e4v24hqxjnxysxudvujza2ur5ehltvdeqsly2fx9,npub1r30l8j4vmppvq8w23umcyvd3vct4zmfpfkn4c7h2h057rmlfcrmq9xt9ma,npub1tgftg8kptdrxxg0g3sm3hckuglv3j0uu3way4vylc5qyt0f44m0s3gun6e

# ============================================
# Blossom (Media Uploads)
# ============================================

# Max file size in bytes (default: 5MB = 5242880)
BLOSSOM_MAX_FILE_SIZE=5242880

# ============================================
# Geocoding (OpenCage API)
# ============================================

# OpenCage API key for geocoding addresses
# IMPORTANT: This is a SECRET - keep it server-side only!
# Get your key at: https://opencagedata.com/api
# Free tier: 2,500 requests/day
GEOCODING_API_KEY=your-api-key-here

# Cache duration in days
GEOCODING_CACHE_DURATION_DAYS=30

# Minimum address length for geocoding
GEOCODING_MIN_ADDRESS_LENGTH=10

# Minimum confidence score from OpenCage (0-10)
GEOCODING_MIN_CONFIDENCE_SCORE=5

# Require address components (true/false)
GEOCODING_REQUIRE_ADDRESS_COMPONENTS=false

# Accepted component types (comma-separated)
GEOCODING_ACCEPTED_COMPONENT_TYPES=road,house,building,retail,commercial,industrial,residential,address,postcode,street,neighbourhood,city,town,village,municipality,county,state,country,amenity,venue,place,locality,university

# ============================================
# Imprint / Legal Information
# ============================================

IMPRINT_ENABLED=true
IMPRINT_ORGANIZATION=ComCal GbR

# Address
IMPRINT_ADDRESS_STREET=
IMPRINT_ADDRESS_POSTAL_CODE=
IMPRINT_ADDRESS_CITY=
IMPRINT_ADDRESS_COUNTRY=

# Contact
IMPRINT_CONTACT_EMAIL=mail@comcal.net
IMPRINT_CONTACT_PHONE=

# Legal
IMPRINT_REPRESENTATIVE=
IMPRINT_REGISTRATION_NUMBER=
IMPRINT_VAT_ID=
IMPRINT_RESPONSIBLE_FOR_CONTENT=

# Funding Information (shown on imprint page)
IMPRINT_FUNDING_IMAGE=/BMBFSFJ.png
IMPRINT_FUNDING_TEXT=Förderkennzeichen: 01PZ24007

# ============================================
# Footer Configuration
# ============================================

# Funding acknowledgment text shown in footer
FOOTER_FUNDING_TEXT=gefördert vom BMBFSFJ (FKZ01PZ24007)

# ============================================
# Educational Content
# ============================================

# Search debounce delay in milliseconds
EDUCATIONAL_SEARCH_DEBOUNCE_MS=300

# SKOS vocabulary keys
EDUCATIONAL_VOCAB_LEARNING_RESOURCE_TYPE=hcrt
EDUCATIONAL_VOCAB_ABOUT=hochschulfaechersystematik
EDUCATIONAL_VOCAB_AUDIENCE=intendedEndUserRole
